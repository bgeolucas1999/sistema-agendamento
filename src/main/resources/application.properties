
# --- Configurações do servidor ---
server.port=8080

# --- Banco H2 em memória ---
# URL JDBC para o H2 em memória (nome do banco: reservasdb)
spring.datasource.url=jdbc:h2:mem:reservasdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.platform=h2

# --- JPA / Hibernate ---
# create-drop é útil para desenvolvimento acadêmico (apaga os dados ao parar)
spring.jpa.hibernate.ddl-auto=create-drop
# Garante que o Hibernate crie o schema antes de executar `data.sql`
spring.jpa.defer-datasource-initialization=true
# Mostrar SQL gerado pelo Hibernate (útil para depuração/avaliação)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
# Ajusta timezone para evitar problemas com datas/hora
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# --- Serialização de datas (JSR-310) ---
# Define para serializar datas em ISO (não timestamps longos)
spring.jackson.serialization.write-dates-as-timestamps=false

# --- Console H2 ---
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# --- Logging ---
logging.level.com.reserves=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# --- Tratamento de erros (exibir mensagens de validação) ---
server.error.include-message=always
server.error.include-binding-errors=always

# Observação: Estas configurações são voltadas para desenvolvimento local e
# ambiente acadêmico. Para produção, ajuste `ddl-auto`, credenciais e
# configurações de logging.

# JWT (development defaults) - substitute with secure secret in production
jwt.secret=change-me-to-a-secure-secret
jwt.expiration=86400000
