# --- Configurações do servidor ---
server.port=8080

# --- Banco PostgreSQL ---
# URL JDBC para o PostgreSQL (nome do banco: sistema_agendamento)
spring.datasource.url=jdbc:postgresql://postgres:5432/sistema_agendamento
spring.datasource.driverClassName=org.postgresql.Driver
spring.datasource.username=admin
spring.datasource.password=admin123
spring.sql.init.platform=postgres

# --- JPA / Hibernate ---
# update é útil para desenvolvimento acadêmico (atualiza o schema sem apagar os dados)
spring.jpa.hibernate.ddl-auto=update
# Garante que o Hibernate crie o schema antes de executar `data.sql`
spring.jpa.defer-datasource-initialization=true
# Mostrar SQL gerado pelo Hibernate (útil para depuração/avaliação)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
# Ajusta timezone para evitar problemas com datas/hora
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# --- Serialização de datas (JSR-310) ---
# Define para serializar datas em ISO (não timestamps longos)
spring.jackson.serialization.write-dates-as-timestamps=false

# --- Logging ---
logging.level.com.reserves=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# --- Tratamento de erros (exibir mensagens de validação) ---
server.error.include-message=always
server.error.include-binding-errors=always

# Observação: Estas configurações são voltadas para desenvolvimento local e
# ambiente acadêmico. Para produção, ajuste `ddl-auto`, credenciais e
# configurações de logging.

# JWT (development defaults) - substitute with secure secret in production
jwt.secret=change-me-to-a-secure-secret
jwt.expiration=86400000
